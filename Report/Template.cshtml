<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="@Model.MaterialCssLibraryPath" />
    <link rel="stylesheet" href="@Model.MaterialIcons" />
    <link rel="icon" href="@Model.SpecFlowIconPath" />
    <title>Step Definition Reporter</title>
    <style>
      ::selection {
        background: #e0f7fa;
      }

      .header {
        font-weight: 300;
      }

      nav.clean {
        background: none;
        box-shadow: none;
        height: 30px;
        line-height: 30px;
      }

      .collapsible-body {
        padding: 15px;
        background-color: #fff;
      }

      .breadcrumb:before {
        margin: 0px;
      }

      nav.clean .breadcrumb {
        color: black;
      }

      nav.clean .breadcrumb:before {
        color: rgba(0, 0, 0, 0.7);
      }

      .unused-step {
        cursor: default;
      }

      @@media only screen and (min-width: 993px) {
        .container {
          width: 95%;
        }
      }
    </style>
    <script src="@Model.MaterialJsLibraryPath"></script>
  </head>
  <body class="grey lighten-3">
    <div class="container">
      <div class="row">
        <span class="col s12">
          <h3 class="header blue-text blue-grey-text darken-4">
            Step Definition Report
            <i class="material-icons">remove</i>
            <span class="hide-on-med-and-down">@Model.ProjectName</span>
            <span class="hide-on-large-only truncate">@Model.ProjectName</span>
          </h3>
          <blockquote>
            Generated by SpecFlow at @Model.GeneratedDateTime 
            (see <a target="_blank" href="http://www.specflow.org/">http://www.specflow.org/</a>).
          </blockquote>
          <span class="badge blue white-text text-lighten-1" style="float: left; margin-left: 0px;" data-badge-caption="steps">
            @Model.TotalNumberOfSteps
          </span>
          <span class="badge red white-text text-lighten-1" style="float: left;" data-badge-caption="unused">
            @Model.TotalNumberOfUnusedSteps
          </span>
        </span>
      </div>
      <div class="row">
        <div class="col-12">
          @foreach (var groupedSteps in @Model.Results) 
          {
            <div>
              <h3 class="header red-text darken-2">@groupedSteps.Type</h3>
              <ul class="collapsible">
                @foreach (var stepInfo in groupedSteps.Attributes) 
                { 
                  if (stepInfo.NumberOfCalls == 0) 
                  {
                    <div class="collapsible-header red lighten-1 white-text text-lighten-1 unused-step">
                      <i class="material-icons">close</i>
                      @stepInfo.Value
                    </div>
                  } 
                  else 
                  {
                    <li>
                      <div class="collapsible-header">
                        <i class="material-icons">done_all</i>
                        @stepInfo.Value
                        <span class="badge teal white-text text-lighten-1" data-badge-caption="total">
                          @stepInfo.NumberOfCalls
                        </span>
                      </div>
                      <div class="collapsible-body" style="padding: 0px;">
                        <ul class="collection">
                          @foreach (var generatedStepDefinition in stepInfo.GeneratedStepDefinitions) 
                          {
                            <li class="collection-item" style="padding: 0px;">
                              <nav class="clean">
                                <div class="nav-wrapper">
                                  <div class="col s12">
                                    <a class="breadcrumb">
                                      @generatedStepDefinition.StepName
                                    </a>
                                    <a class="breadcrumb grey-text">
                                      @generatedStepDefinition.FeatureFileName
                                    </a>
                                  </div>
                                </div>
                              </nav>
                            </li>
                          }
                        </ul>
                      </div>
                    </li>
                  } 
                }
              </ul>
            </div>
          }
        </div>
      </div>
    </div>
    <script>
      M.AutoInit();
    </script>
  </body>
</html>